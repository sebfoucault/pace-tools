<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running Calculator - Demo</title>
    <style>
        body {
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .header {
            background-color: #2196f3;
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0;
            margin-left: 0.5rem;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 1rem;
        }
        .card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .card h2 {
            margin-top: 0;
            color: #2196f3;
        }
        .form-group {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        input, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #2196f3;
            box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);
        }
        .button-group {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        button {
            flex: 1;
            padding: 0.75rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .primary-btn {
            background-color: #2196f3;
            color: white;
        }
        .primary-btn:hover {
            background-color: #1976d2;
        }
        .secondary-btn {
            background-color: transparent;
            color: #2196f3;
            border: 1px solid #2196f3;
        }
        .secondary-btn:hover {
            background-color: #f3f3f3;
        }
        .result {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #e8f5e8;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
        }
        .converter-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: center;
        }
        .convert-icon {
            text-align: center;
            color: #666;
            font-size: 1.5rem;
        }
        .instructions {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f9f9f9;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #666;
        }
        @media (max-width: 600px) {
            .container {
                padding: 0.5rem;
            }
            .converter-grid {
                grid-template-columns: 1fr;
            }
            .convert-icon {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"/>
        </svg>
        <h1>Running Calculator</h1>
    </div>

    <div class="container">
        <!-- Running Calculator -->
        <div class="card">
            <h2>Running Calculator</h2>

            <div class="form-group">
                <label for="units">Unit System</label>
                <select id="units">
                    <option value="metric">Metric (km, min/km)</option>
                    <option value="imperial">Imperial (miles, min/mile)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="distance">Distance (km)</label>
                <input type="number" id="distance" placeholder="10" step="0.1">
            </div>

            <div class="form-group">
                <label for="time">Time</label>
                <input type="text" id="time" placeholder="HH:MM:SS or MM:SS">
            </div>

            <div class="form-group">
                <label for="pace">Pace (min/km)</label>
                <input type="text" id="pace" placeholder="MM:SS">
            </div>

            <div class="button-group">
                <button class="primary-btn" onclick="calculate()">Calculate</button>
                <button class="secondary-btn" onclick="clearFields()">Clear</button>
            </div>

            <div id="result" class="result" style="display: none;"></div>

            <div class="instructions">
                Fill in any two values to calculate the third one.
            </div>
        </div>

        <!-- Speed/Pace Converter -->
        <div class="card">
            <h2>Speed ↔ Pace Converter</h2>

            <div class="form-group">
                <label for="converter-units">Unit System</label>
                <select id="converter-units" onchange="updateUnits()">
                    <option value="metric">Metric</option>
                    <option value="imperial">Imperial</option>
                </select>
            </div>

            <div class="converter-grid">
                <div class="form-group">
                    <label for="speed">Speed (<span id="speed-unit">km/h</span>)</label>
                    <input type="number" id="speed" placeholder="12" step="0.1" onchange="convertSpeed()">
                </div>

                <div class="convert-icon">↕</div>

                <div class="form-group">
                    <label for="pace-converter">Pace (<span id="pace-unit">min/km</span>)</label>
                    <input type="text" id="pace-converter" placeholder="MM:SS" onchange="convertPace()">
                </div>
            </div>

            <div class="instructions">
                Enter either speed or pace to see the conversion.
            </div>
        </div>
    </div>

    <script>
        // Calculator Functions
        function calculate() {
            const distance = parseFloat(document.getElementById('distance').value);
            const time = parseTime(document.getElementById('time').value);
            const pace = parseTime(document.getElementById('pace').value);
            const result = document.getElementById('result');

            let filledFields = 0;
            if (distance) filledFields++;
            if (time) filledFields++;
            if (pace) filledFields++;

            if (filledFields !== 2) {
                result.innerHTML = 'Please fill in exactly two fields.';
                result.style.display = 'block';
                result.style.backgroundColor = '#ffebee';
                result.style.borderLeftColor = '#f44336';
                return;
            }

            let calculated = '';

            if (distance && time && !pace) {
                const calculatedPace = time / distance;
                calculated = `Pace: ${formatTime(calculatedPace)} min/km`;
            } else if (distance && pace && !time) {
                const calculatedTime = distance * pace;
                calculated = `Time: ${formatTime(calculatedTime)}`;
            } else if (time && pace && !distance) {
                const calculatedDistance = time / pace;
                calculated = `Distance: ${calculatedDistance.toFixed(2)} km`;
            }

            result.innerHTML = calculated;
            result.style.display = 'block';
            result.style.backgroundColor = '#e8f5e8';
            result.style.borderLeftColor = '#4caf50';
        }

        function clearFields() {
            document.getElementById('distance').value = '';
            document.getElementById('time').value = '';
            document.getElementById('pace').value = '';
            document.getElementById('result').style.display = 'none';
        }

        function parseTime(timeStr) {
            if (!timeStr) return 0;
            const parts = timeStr.split(':').map(p => parseFloat(p));

            if (parts.length === 3) {
                return parts[0] * 60 + parts[1] + parts[2] / 60;
            } else if (parts.length === 2) {
                return parts[0] + parts[1] / 60;
            } else if (parts.length === 1) {
                return parts[0];
            }
            return 0;
        }

        function formatTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = Math.floor(minutes % 60);
            const secs = Math.round((minutes % 1) * 60);

            if (hours > 0) {
                return `${hours}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            }
        }

        // Converter Functions
        function convertSpeed() {
            const speed = parseFloat(document.getElementById('speed').value);
            const paceInput = document.getElementById('pace-converter');

            if (speed > 0) {
                const paceInMinutes = 60 / speed;
                const minutes = Math.floor(paceInMinutes);
                const seconds = Math.round((paceInMinutes - minutes) * 60);
                paceInput.value = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            } else {
                paceInput.value = '';
            }
        }

        function convertPace() {
            const paceStr = document.getElementById('pace-converter').value;
            const speedInput = document.getElementById('speed');

            const paceRegex = /^(\d+):([0-5]\d)$/;
            const match = paceStr.match(paceRegex);

            if (match) {
                const minutes = parseInt(match[1]);
                const seconds = parseInt(match[2]);
                const totalMinutes = minutes + seconds / 60;

                if (totalMinutes > 0) {
                    const speed = 60 / totalMinutes;
                    speedInput.value = speed.toFixed(2);
                }
            } else if (!paceStr) {
                speedInput.value = '';
            }
        }

        function updateUnits() {
            const system = document.getElementById('converter-units').value;
            const speedUnit = document.getElementById('speed-unit');
            const paceUnit = document.getElementById('pace-unit');

            if (system === 'metric') {
                speedUnit.textContent = 'km/h';
                paceUnit.textContent = 'min/km';
            } else {
                speedUnit.textContent = 'mph';
                paceUnit.textContent = 'min/mile';
            }

            // Clear values when changing units
            document.getElementById('speed').value = '';
            document.getElementById('pace-converter').value = '';
        }
    </script>
</body>
</html>
